Windows Serverin aktivoinnin kanssa ongelmat edelleen jatkuivat. Emme saaneet avaintamme aktivointua Windowsiin. Seuraavaksi p‰‰timme ladata Windows Server 2016 Evalution version ISO tiedoston Microsoftin sivuilta, jossa on jo valmis lisenssi. Sivuston osoite: https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2016
Lisenssi kest‰‰ tosin 180 p‰iv‰‰.

Asensin Windows Serverille uudet p‰ivitykset, asetin staattisen IP-osoitteen ja l‰hdin luomaan Domainia.

T‰ss‰ v‰liss‰ kokeilin lis‰t‰ loppuun MidPontin Unix-Connectoria palvelimelle.
Asensin aluksi testikoneelle SSH:n

$ sudo apt-get install ssh

Kaikki oikeudet kansioon:
$ cd /opt/midpoint/var
$ sudo chmod -R ugo+rwx icf-connectors/

Seuraavaksi loin Linux testityˆasemalla midpoint k‰ytt‰j‰n ja asetin sille salasanan:
$ sudo useradd -m midpoint
$ sudo passwd midpoint

Seuraavaksi lis‰sin oikeudet midpoint k‰ytt‰j‰lle:
$ sudoedit /etc/sudoers.d/midpoint
T‰nne t‰m‰:
https://raw.githubusercontent.com/Evolveum/midpoint/master/samples/resources/unix/midpoint-user-example.txt
Eli kansioon lis‰t‰‰n kyseiset oikeudet:

Host_Alias HOST = ALL

midpoint HOST=(ALL) NOPASSWD: /usr/sbin/useradd,/usr/sbin/usermod,/usr/sbin/userdel,/usr/sbin/groupadd,/usr/sbin/groupmod,/usr/sbin/groupdel,/bin/mv,/usr/bin/passwd,/usr/bin/getent,/bin/echo,/usr/bin/tee,/bin/chown,/bin/chmod,/bin/mkdir,/usr/bin/groups,/usr/bin/id,/usr/bin/replace,/bin/rm,/bin/cat


Seuraavaksi latasin esimerkki konfiguraation unix-connectorille t‰‰lt‰:

$ wget https://raw.githubusercontent.com/Evolveum/midpoint/master/samples/resources/unix/resource-unix-advanced.xml
Muokkasin seuraavaksi konfiguraatiota:
$ sudoedit resource-unix-advanced.xml
Muutin XML-tiedostoon testikoneen IP-osoitteen, laitoin luodun midpoint tunnuksen salasanan niille asetetuille paikoille (esimerkiss‰ muutettavat kohdat oli kommentoitu).

Seuravaaksi menin midpoint palvelimen osoitteeseen ja kirjauduin sis‰‰n.
Lis‰sin admin-konsolissa Import Object kohdasta sinne muokatun xml-tiedoston. Recources alla nyt n‰kyy Unix Connector onnistuneesti sek‰ yhteyskin toimi Test Connection nappia testaamalla.

Seuraavaksi l‰hdin kirjoittamaan blogia edellisten kertojen MariaDB tietokannan liitt‰misest‰ midPoint palvelimelle.
https://opensourceidm.wordpress.com/2018/10/26/mariadb-tietokannan-liittaminen-midpoint-palvelimelle/








